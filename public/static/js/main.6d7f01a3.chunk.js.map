{"version":3,"sources":["helpers/fetch.js","types/types.js","actions/ui.js","actions/auth.js","hooks/useForm.js","components/ui/login-register/Input.js","components/ui/login-register/Login.js","components/ui/login-register/Register.js","routers/AuthRouter.js","components/auth/AuthScreen.js","components/ui/navbar/Navbar.js","components/calendar/CalendarEvent.js","actions/event.js","components/calendar/CalendarModal.js","helpers/calendar-messages.js","components/calendar/CalendarScreen.js","routers/PrivateRoute.js","routers/PublicRoute.js","routers/AppRouter.js","store/store.js","reducers/uiReducer.js","reducers/authReducer.js","reducers/calendarReducer.js","CalendarApp.js","index.js"],"names":["baseUrl","process","fetchWithOutToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchWithToken","token","localStorage","getItem","types","openModal","type","startLoading","finishLoading","login","user","payload","checkingFinish","logout","useForm","initialState","useState","values","setValues","reset","useCallback","valueReset","handleInputChange","target","name","value","Input","text","i","className","autoComplete","toLowerCase","onChange","e","required","Login","isLoading","useSelector","state","ui","dispatch","useDispatch","email","password","onSubmit","preventDefault","a","res","json","ok","uid","id","setItem","Date","getTime","Swal","fire","icon","title","startLogin","disabled","Register","rePassword","msg","startRegister","AuthRouter","exact","path","component","to","AuthScreen","Navbar","urlImage","auth","src","alt","onClick","clear","CalendarEvent","event","style","display","flexDirection","whiteSpace","eventLoad","events","eventAddNew","eventClearActive","eventUpdateActive","eventDeleteActive","Modal","setAppElement","now","moment","minutes","seconds","add","endDate","initValues","notes","start","toDate","end","CalendarModal","calendar","formValues","modalOpen","activeEvent","useEffect","closeModal","isOpen","onRequestClose","contentLabel","overlayClassName","closeTimeoutMS","getState","_id","evento","console","log","startEventAddNew","minDate","placeholder","rows","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","locale","localizer","momentLocalizer","props","CalendarScreen","myEventsList","lastView","setlastView","eventos","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","borderRadius","opacity","color","onSelectEvent","onDoubleClickEvent","view","onView","components","onSelectSlot","selectable","err","PrivateRoute","isAuth","Component","rest","render","PublicRoute","AppRouter","isLoged","isChecking","checking","height","width","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducers","combineReducers","action","map","reduce","acu","curr","store","createStore","applyMiddleware","thunk","CalendarApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6d7f01a3.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nconst fetchWithOutToken = (endpoint, data, method = 'GET') => {\r\n  const url = `${baseUrl}/${endpoint}`;\r\n\r\n  if (method === 'GET') {\r\n    return fetch(url);\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\n\r\nconst fetchWithToken = (endpoint, data, method = 'GET') => {\r\n  const url = `${baseUrl}/${endpoint}`;\r\n  const token = localStorage.getItem('token') || '';\r\n\r\n  if (method === 'GET') {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'x-token': token,\r\n      },\r\n    });\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        'x-token': token,\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\n\r\nexport { fetchWithOutToken, fetchWithToken };\r\n","export const types = {\r\n  uiOpenModal: '[UI] Open modal',\r\n  uiCloseModal: '[UI] Close modal',\r\n  uiStartLoading: '[UI] Start loading',\r\n  uiFinishLoading: '[UI] Finish loading',\r\n\r\n  eventSetActive: '[EVENT] Set active event',\r\n  eventStartAddNew: '[EVENT] Start add new',\r\n  envetAddNew: '[EVENT] Add new',\r\n  eventClearActive: '[EVENT] Clear active event',\r\n  eventUpdate: '[EVENT] Update active event',\r\n  eventDelete: '[EVENT] Delete active event',\r\n  eventLoad: '[EVENT] Events loaded',\r\n\r\n  authCheckingFinish: '[AUTH] Finish checking login state',\r\n  authStartLogin: '[AUTH] Start login',\r\n  authLogin: '[AUTH] Login',\r\n  authStartRegister: '[AUTH] Start register',\r\n  authRegister: '[AUTH] Register',\r\n  authStartRenewToken: '[AUTH] Start renew token',\r\n  authLogout: '[AUTH] Logout',\r\n};\r\n","import { types } from '../types/types';\r\n\r\nexport const closeModal = () => ({\r\n  type: types.uiCloseModal,\r\n});\r\n\r\nexport const openModal = () => ({\r\n  type: types.uiOpenModal,\r\n});\r\n\r\nexport const startLoading = () => ({\r\n  type: types.uiStartLoading,\r\n});\r\n\r\nexport const finishLoading = () => ({\r\n  type: types.uiFinishLoading,\r\n});\r\n","import Swal from 'sweetalert2';\r\nimport { fetchWithOutToken, fetchWithToken } from '../helpers/fetch';\r\nimport { types } from '../types/types';\r\nimport { finishLoading, startLoading } from './ui';\r\n\r\nexport const startLogin = (values) => {\r\n  return async (dispatch) => {\r\n    dispatch(startLoading());\r\n    const res = await fetchWithOutToken('auth', values, 'POST');\r\n    const { ok, name, token, id: uid } = await res.json();\r\n\r\n    if (ok) {\r\n      localStorage.setItem('token', token);\r\n      localStorage.setItem('token-init-date', new Date().getTime());\r\n      dispatch(login({ name, uid }));\r\n    } else {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Error al iniciar sesion',\r\n        text: 'Email o contraseña incorrectos.',\r\n      });\r\n    }\r\n    dispatch(finishLoading());\r\n  };\r\n};\r\n\r\nexport const startRegister = (values) => {\r\n  return async (dispatch) => {\r\n    dispatch(startLoading());\r\n    const res = await fetchWithOutToken('auth/register', values, 'POST');\r\n    const { ok, name, token, id: uid, msg } = await res.json();\r\n\r\n    if (ok) {\r\n      localStorage.setItem('token', token);\r\n      localStorage.setItem('token-init-date', new Date().getTime());\r\n      dispatch(login({ name, uid }));\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Usuario registrado con exito',\r\n      });\r\n    } else {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Error al registrarse',\r\n        text: msg,\r\n      });\r\n    }\r\n    dispatch(finishLoading());\r\n  };\r\n};\r\n\r\nexport const startChecking = () => {\r\n  return async (dispatch) => {\r\n    const res = await fetchWithToken('auth/renew', {});\r\n    const { ok, token, name, uid } = await res.json();\r\n\r\n    if (ok) {\r\n      localStorage.setItem('token', token);\r\n      localStorage.setItem('token-init-date', new Date().getTime());\r\n      dispatch(login({ name, uid }));\r\n    } else {\r\n      dispatch(checkingFinish());\r\n    }\r\n  };\r\n};\r\n\r\nexport const startLogout = () => {\r\n  return async (dispatch) => {\r\n    localStorage.clear();\r\n    dispatch(logout());\r\n  };\r\n};\r\n\r\nconst login = (user) => ({\r\n  type: types.authLogin,\r\n  payload: user,\r\n});\r\n\r\nconst checkingFinish = () => ({\r\n  type: types.authCheckingFinish,\r\n});\r\n\r\nconst logout = () => ({\r\n  type: types.authLogout,\r\n});\r\n","import { useCallback, useState } from 'react';\r\n\r\nexport const useForm = (initialState = {}) => {\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  const reset = useCallback(\r\n    (valueReset = initialState) => {\r\n      setValues(valueReset);\r\n    },\r\n    [initialState]\r\n  );\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  return [values, handleInputChange, reset];\r\n};\r\n","import React from 'react';\r\n\r\nexport const Input = ({\r\n  text,\r\n  type,\r\n  handleInputChange,\r\n  value,\r\n  name = '',\r\n  i,\r\n}) => {\r\n  return (\r\n    <label className=\"ui-login__input-item\">\r\n      {text}:\r\n      <div>\r\n        <input\r\n          className={value && 'ui-login__isWrited'}\r\n          autoComplete=\"off\"\r\n          type={type}\r\n          name={name || text.toLowerCase()}\r\n          value={value}\r\n          onChange={(e) => handleInputChange(e)}\r\n          required\r\n        />\r\n        {i && <i className={i}></i>}\r\n      </div>\r\n    </label>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startLogin } from '../../../actions/auth';\r\nimport { useForm } from '../../../hooks/useForm';\r\nimport { Input } from './Input';\r\n\r\nexport const Login = () => {\r\n  const { isLoading } = useSelector((state) => state.ui); \r\n  const dispatch = useDispatch();\r\n\r\n  const [values, handleInputChange] = useForm({ email: '', password: '' });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(startLogin(values));\r\n  };\r\n\r\n  return (\r\n    <div className=\"ui-login animate__animated animate__fadeIn\">\r\n      <span className=\"ui-login__title\">LOGIN</span>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"ui-login__input-group\">\r\n          <Input\r\n            text=\"Email\"\r\n            type=\"email\"\r\n            handleInputChange={handleInputChange}\r\n            value={values.email}\r\n            i=\"fas fa-user\"\r\n          />\r\n          <Input\r\n            text=\"Password\"\r\n            type=\"password\"\r\n            handleInputChange={handleInputChange}\r\n            value={values.password}\r\n            i=\"fas fa-envelope\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\" disabled={isLoading}>\r\n          LOGIN\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport { startRegister } from '../../../actions/auth';\r\nimport { useForm } from '../../../hooks/useForm';\r\nimport { Input } from './Input';\r\n\r\nexport const Register = () => {\r\n  const dispatch = useDispatch();\r\n  const { isLoading } = useSelector((state) => state.ui); \r\n\r\n  const [values, handleInputChange] = useForm({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    rePassword: '',\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (values.password !== values.rePassword) {\r\n      Swal.fire('Oops', 'Las contraseñas no coinciden', 'error');\r\n    } else {\r\n      const { name, email, password } = values;\r\n      dispatch(startRegister({ name, email, password }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"ui-login animate__animated animate__fadeIn\">\r\n      <span className=\"ui-login__title\">REGISTER</span>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"ui-login__input-group\">\r\n          <Input\r\n            text=\"Nombre\"\r\n            name=\"name\"\r\n            type=\"text\"\r\n            handleInputChange={handleInputChange}\r\n            value={values.name}\r\n            i=\"fas fa-user-circle\"\r\n          />\r\n          <Input\r\n            text=\"Email\"\r\n            type=\"email\"\r\n            handleInputChange={handleInputChange}\r\n            value={values.email}\r\n            i=\"fas fa-envelope\"\r\n          />\r\n          <Input\r\n            text=\"Contraseña\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            handleInputChange={handleInputChange}\r\n            value={values.password}\r\n            i=\"fas fa-key\"\r\n          />\r\n          <Input\r\n            text=\"Repita la contraseña\"\r\n            name=\"rePassword\"\r\n            type=\"password\"\r\n            handleInputChange={handleInputChange}\r\n            value={values.rePassword}\r\n            i=\"fas fa-key\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\" disabled={isLoading}>\r\n          REGISTRAR\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { Login } from '../components/ui/login-register/Login';\r\nimport { Register } from '../components/ui/login-register/Register';\r\n\r\nexport const AuthRouter = () => {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/auth/login\" component={Login} />\r\n      <Route exact path=\"/auth/register\" component={Register} />\r\n      <Redirect to=\"/auth/login\"  />\r\n    </Switch>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { AuthRouter } from '../../routers/AuthRouter';\r\n\r\nexport const AuthScreen = () => {\r\n  return (\r\n    <div className=\"auth-screen\">\r\n      <AuthRouter />\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startLogout } from '../../../actions/auth';\r\n\r\nexport const Navbar = ({ urlImage }) => {\r\n  const { name } = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLogout = () => {\r\n    dispatch(startLogout());\r\n  };\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"navbar__profile\">\r\n        <div>\r\n          <img src={urlImage} alt=\"Profile\" />\r\n        </div>\r\n        <p>{name}</p>\r\n      </div>\r\n      <div onClick={handleLogout} className=\"navbar__sign-out\">\r\n        <i className=\"fas fa-sign-out-alt\"></i>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nexport const CalendarEvent = ({ event }) => {\r\n  const { title, user } = event;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n      }}\r\n    >\r\n      <strong\r\n        style={{\r\n          whiteSpace: 'pre-wrap',\r\n        }}\r\n      >\r\n        {title}\r\n      </strong>\r\n      <p> - {user.name}</p>\r\n    </div>\r\n  );\r\n};\r\n","import Swal from 'sweetalert2';\r\nimport { fetchWithToken } from '../helpers/fetch';\r\nimport { types } from '../types/types';\r\n\r\nexport const startEventAddNew = (event) => {\r\n  return async (dispatch, getState) => {\r\n    const { name, uid: _id } = getState().auth;\r\n\r\n    try {\r\n      const res = await fetchWithToken('events', event, 'POST');\r\n      const body = await res.json();\r\n\r\n      if (body.ok) {\r\n        event.id = body.evento.id;\r\n        event.user = {\r\n          _id,\r\n          name,\r\n        };\r\n        dispatch(eventAddNew(event));\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const startEventLoad = () => {\r\n  return async (dispatch) => {\r\n    const res = await fetchWithToken('events/');\r\n    const body = await res.json();\r\n\r\n    if (body.ok) {\r\n      dispatch(eventLoad(body.eventos));\r\n    }\r\n  };\r\n};\r\n\r\nexport const startEventUpdate = (event) => {\r\n  return async (dispatch) => {\r\n    const res = await fetchWithToken(`events/${event.id}`, event, 'PUT');\r\n    const body = await res.json();\r\n\r\n    if (body.ok) {\r\n      dispatch(eventUpdateActive(event));\r\n    } else {\r\n      Swal.fire('Oops...', body.msg, 'error');\r\n    }\r\n  };\r\n};\r\n\r\nexport const startEventDelete = (id) => {\r\n  return async (dispatch) => {\r\n    const res = await fetchWithToken(`events/${id}`, {}, 'DELETE');\r\n    const body = await res.json();\r\n    try {\r\n      if (body.ok) {\r\n        dispatch(eventDeleteActive(id));\r\n      } else {\r\n        Swal.fire('Oops...', body.msg, 'error');\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n};\r\n\r\nconst eventLoad = (events) => ({\r\n  type: types.eventLoad,\r\n  payload: events,\r\n});\r\n\r\nexport const eventSetActive = (event) => ({\r\n  type: types.eventSetActive,\r\n  payload: event,\r\n});\r\n\r\nexport const eventAddNew = (event) => ({\r\n  type: types.envetAddNew,\r\n  payload: event,\r\n});\r\n\r\nexport const eventClearActive = () => ({\r\n  type: types.eventClearActive,\r\n});\r\n\r\nexport const eventUpdateActive = (event) => ({\r\n  type: types.eventUpdate,\r\n  payload: event,\r\n});\r\n\r\nexport const eventDeleteActive = (id) => ({\r\n  type: types.eventDelete,\r\n  payload: id,\r\n});\r\n","import React, { useEffect } from 'react';\r\n\r\nimport Modal from 'react-modal';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport moment from 'moment';\r\n\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { closeModal as closeModalAction } from '../../actions/ui';\r\nimport {\r\n  eventClearActive,\r\n  startEventAddNew,\r\n  startEventUpdate,\r\n} from '../../actions/event';\r\n\r\nModal.setAppElement('#root');\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, 'hours');\r\nconst endDate = moment().minutes(0).seconds(0).add(2, 'hours');\r\n\r\nconst initValues = {\r\n  title: '',\r\n  notes: '',\r\n  start: now.toDate(),\r\n  end: endDate.toDate(),\r\n};\r\n\r\nexport const CalendarModal = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { ui, calendar } = useSelector((state) => state);\r\n\r\n  const [formValues, handleInputChange, reset] = useForm(initValues);\r\n\r\n  const { title, notes, start, end } = formValues;\r\n\r\n  const { modalOpen } = ui;\r\n  const { activeEvent } = calendar;\r\n\r\n  useEffect(() => {\r\n    if (activeEvent) {\r\n      reset(activeEvent);\r\n    }\r\n  }, [activeEvent, reset]);\r\n\r\n  const closeModal = () => {\r\n    dispatch(eventClearActive());\r\n    dispatch(closeModalAction());\r\n    reset();\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (activeEvent) {\r\n      dispatch(startEventUpdate({ ...activeEvent, ...formValues }));\r\n    } else {\r\n      dispatch(startEventAddNew(formValues));\r\n    }\r\n\r\n    closeModal();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={modalOpen}\r\n      onRequestClose={closeModal}\r\n      contentLabel=\"Example Modal\"\r\n      overlayClassName=\"modal-fondo\"\r\n      className=\"animate__animated animate__backInDown modal\"\r\n      closeTimeoutMS={999}\r\n    >\r\n      <h1> Nuevo evento </h1>\r\n      <hr />\r\n      <form className=\"container\" onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora inicio</label>\r\n          <DateTimePicker\r\n            onChange={(e) =>\r\n              handleInputChange({ target: { value: e, name: 'start' } })\r\n            }\r\n            value={start}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora fin</label>\r\n          <DateTimePicker\r\n            onChange={(e) =>\r\n              handleInputChange({ target: { value: e, name: 'end' } })\r\n            }\r\n            value={end}\r\n            minDate={start}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Titulo y notas</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Título del evento\"\r\n            name=\"title\"\r\n            autoComplete=\"off\"\r\n            value={title}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <textarea\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Notas\"\r\n            rows=\"5\"\r\n            name=\"notes\"\r\n            value={notes}\r\n            onChange={handleInputChange}\r\n          ></textarea>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"far fa-save\"></i>\r\n          <span> Guardar</span>\r\n        </button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n","export const messages = {\r\n  allDay: 'Todo el día',\r\n  previous: '<',\r\n  next: '>',\r\n  today: 'Hoy',\r\n  month: 'Mes',\r\n  week: 'Semana',\r\n  day: 'Día',\r\n  agenda: 'Agenda',\r\n  date: 'Fecha',\r\n  time: 'Hora',\r\n  event: 'Evento',\r\n  noEventsInRange: 'No hay eventos en este rango',\r\n  showMore: total => `+ Ver más (${total})`\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { Navbar } from '../ui/navbar/Navbar';\r\nimport { CalendarEvent } from './CalendarEvent';\r\nimport { CalendarModal } from './CalendarModal';\r\n\r\nimport 'moment/locale/es';\r\nimport moment from 'moment';\r\n\r\nimport { Calendar as BigCalendar, momentLocalizer } from 'react-big-calendar';\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport { messages } from '../../helpers/calendar-messages';\r\n\r\nimport { openModal } from '../../actions/ui';\r\nimport {\r\n  eventAddNew,\r\n  eventClearActive,\r\n  eventSetActive,\r\n  startEventDelete,\r\n  startEventLoad,\r\n} from '../../actions/event';\r\n\r\nmoment.locale('es');\r\nconst localizer = momentLocalizer(moment); // or globalizeLocalizer\r\n\r\nconst props = {\r\n  urlImage:\r\n    'https://avatars1.githubusercontent.com/u/66537765?s=460&u=23c939f2f6ef1d8733094b61abd9ed57b4b6de20&v=4',\r\n  name: 'Gonzalo Flores',\r\n};\r\n\r\nexport const CalendarScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const { events: myEventsList, activeEvent } = useSelector(\r\n    (state) => state.calendar\r\n  );\r\n  const { uid } = useSelector((state) => state.auth);\r\n\r\n  const [lastView, setlastView] = useState(\r\n    localStorage.getItem('lastView') || 'month'\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(startEventLoad());\r\n  }, [dispatch]);\r\n\r\n  const eventStyleGetter = (e, start, end, isSelected) => {\r\n    const style = {\r\n      backgroundColor: e.user._id === uid ? '#3498db' : '#465660',\r\n      borderRadius: '0px',\r\n      opacity: 0.8,\r\n      color: 'white',\r\n    };\r\n\r\n    return {\r\n      style,\r\n    };\r\n  };\r\n\r\n  const onDoubleClick = (e) => {\r\n    dispatch(openModal());\r\n  };\r\n\r\n  const handleNewModal = () => {\r\n    dispatch(openModal());\r\n  };\r\n\r\n  const handleDeleteModal = () => {\r\n    dispatch(startEventDelete(activeEvent.id));\r\n  };\r\n\r\n  const onSelectEvent = (e) => {\r\n    dispatch(eventSetActive(e));\r\n  };\r\n\r\n  const onViewChange = (e) => {\r\n    setlastView(e);\r\n    localStorage.setItem('lastView', e);\r\n  };\r\n\r\n  const handleSelectSlot = (e) => {\r\n    dispatch(eventClearActive());\r\n    const { start, end } = e;\r\n\r\n    dispatch(\r\n      eventAddNew({\r\n        start,\r\n        end,\r\n        title: 'Modifique el titulo',\r\n        notes: 'Modifique las notas',\r\n        id: new Date().getTime(),\r\n        user: {\r\n          name: 'Gonzalo',\r\n          _id: 123154124,\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"calendar-screen\">\r\n      <Navbar {...props} />\r\n      <div className=\"calendar-screen__container\">\r\n        <BigCalendar\r\n          localizer={localizer}\r\n          events={myEventsList}\r\n          startAccessor=\"start\"\r\n          endAccessor=\"end\"\r\n          messages={messages}\r\n          eventPropGetter={eventStyleGetter}\r\n          onSelectEvent={onSelectEvent}\r\n          onDoubleClickEvent={onDoubleClick}\r\n          view={lastView}\r\n          onView={onViewChange}\r\n          components={{\r\n            event: CalendarEvent,\r\n          }}\r\n          onSelectSlot={handleSelectSlot}\r\n          selectable={true}\r\n        />\r\n      </div>\r\n      <CalendarModal />\r\n      <button className=\"calendar-screen__add-event\" onClick={handleNewModal}>\r\n        +\r\n      </button>\r\n      <button\r\n        className=\"calendar-screen__delete-event\"\r\n        style={{ opacity: activeEvent ? '1' : '0' }}\r\n        onClick={handleDeleteModal}\r\n      >\r\n        <i className=\"far fa-trash-alt\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({ isAuth, component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuth ? <Component {...props} /> : <Redirect to=\"/auth/login\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport const PublicRoute = ({ isAuth, component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuth ? <Redirect to=\"/\" /> : <Component {...props} />\r\n      }\r\n    />\r\n  );\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Switch, BrowserRouter as Router } from 'react-router-dom';\r\nimport { startChecking } from '../actions/auth';\r\nimport { AuthScreen } from '../components/auth/AuthScreen';\r\nimport { CalendarScreen } from '../components/calendar/CalendarScreen';\r\nimport { PrivateRoute } from './PrivateRoute';\r\nimport { PublicRoute } from './PublicRoute';\r\n\r\nexport const AppRouter = () => {\r\n  const { isLoged: isAuth, checking: isChecking } = useSelector(\r\n    (state) => state.auth\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(startChecking());\r\n  }, [dispatch]);\r\n\r\n  if (isChecking) {\r\n    return (\r\n      <div className=\"loader\">\r\n        <Loader type=\"TailSpin\" color=\"#00BFFF\" height={100} width={100} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <PublicRoute isAuth={isAuth} path=\"/auth\" component={AuthScreen} />\r\n        <PrivateRoute isAuth={isAuth} path=\"/\" component={CalendarScreen} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { authReducer } from '../reducers/authReducer';\r\nimport { calendarReducer } from '../reducers/calendarReducer';\r\n\r\nimport { uiReducer } from '../reducers/uiReducer';\r\n\r\nconst composeEnhancers =\r\n  (typeof window !== 'undefined' &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n  compose;\r\n\r\nconst rootReducers = combineReducers({\r\n  ui: uiReducer,\r\n  auth: authReducer,\r\n  calendar: calendarReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  rootReducers,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","import { types } from '../types/types';\r\n\r\nexport const uiReducer = (\r\n  state = { modalOpen: false, isLoading: false },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case types.uiCloseModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: false,\r\n      };\r\n\r\n    case types.uiOpenModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: true,\r\n      };\r\n\r\n    case types.uiStartLoading:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n\r\n    case types.uiFinishLoading:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from '../types/types';\r\n\r\nexport const authReducer = (\r\n  state = { checking: true, isLoged: false },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case types.authLogin:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        checking: false,\r\n        isLoged: true,\r\n      };\r\n\r\n    case types.authCheckingFinish:\r\n      return {\r\n        ...state,\r\n        checking: false,\r\n      };\r\n\r\n    case types.authLogout:\r\n      return {\r\n        checking: false,\r\n        isLoged: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from '../types/types';\r\n\r\n// const events = [\r\n//   {\r\n//     title: 'Cumpleaños de gonza',\r\n//     start: moment().toDate(),\r\n//     end: moment().add(2, 'hours').toDate(),\r\n//     bgcolor: '#fafafa',\r\n//     user: {\r\n//       name: 'Gonzalo',\r\n//       _id: 12354234,\r\n//     },\r\n//     id: new Date().getTime(),\r\n//   },\r\n// ];\r\n\r\nexport const calendarReducer = (\r\n  state = { events: [], activeEvent: null },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case types.eventSetActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: action.payload,\r\n      };\r\n\r\n    case types.envetAddNew:\r\n      return {\r\n        ...state,\r\n        events: [...state.events, action.payload],\r\n      };\r\n\r\n    case types.eventClearActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: null,\r\n      };\r\n\r\n    case types.eventUpdate:\r\n      return {\r\n        ...state,\r\n        events: state.events.map((event) =>\r\n          event.id === action.payload.id ? action.payload : event\r\n        ),\r\n      };\r\n\r\n    case types.eventDelete:\r\n      return {\r\n        ...state,\r\n        events: state.events.reduce(\r\n          (acu, curr) => (curr.id === action.payload ? acu : [...acu, curr]),\r\n          []\r\n        ),\r\n      };\r\n\r\n    case types.eventLoad:\r\n      return {\r\n        ...state,\r\n        events: action.payload.map((event) => ({\r\n          ...event,\r\n          start: new Date(event.start),\r\n          end: new Date(event.end),\r\n        })),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { AppRouter } from './routers/AppRouter';\r\nimport { store } from './store/store';\r\n\r\nexport const CalendarApp = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <AppRouter />\r\n    </Provider>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CalendarApp } from './CalendarApp';\r\n\r\nimport './styles/style.scss';\r\n\r\nReactDOM.render(<CalendarApp />, document.getElementById('root'));\r\n"],"sourceRoot":""}